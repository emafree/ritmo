import { ScrollView, VerticalBox } from "std-widgets.slint";
import { ContentWithBooks } from "../types.slint";
import { ContentCard } from "./content_card.slint";
import { EmptyState } from "./empty_state.slint";

export component ContentsView {
    in property <[ContentWithBooks]> contents;

    callback content-clicked(int);
    callback book-clicked(int);

    ScrollView {
        vertical-stretch: 1;

        VerticalBox {
            spacing: 20px;

            if contents.length == 0 : EmptyState {
                icon: "ðŸ“";
                title: "Nessun contenuto nella libreria";
                subtitle: "I contenuti vengono estratti dai libri";
            }

            for content in contents : ContentCard {
                content: content;
                content-clicked(id) => {
                    content-clicked(id);
                }
                book-clicked(id) => {
                    book-clicked(id);
                }
            }
        }
    }
}
